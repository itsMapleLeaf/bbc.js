{"version":3,"sources":["test.js"],"names":["test","require","bbc","t","deepEqual","tokenize","type","text","tag","param","parseText","children","pass"],"mappings":";;AAAA,MAAMA,OAAOC,QAAQ,KAAR,CAAb;AACA,MAAMC,MAAMD,QAAQ,SAAR,CAAZ;;AAEAD,KAAK,eAAL,EAAsBG,KAAK;AACzBA,IAAEC,SAAF,CAAYF,IAAIG,QAAJ,CAAc,kCAAd,CAAZ,EAA8D,CAC5D,EAACC,MAAM,WAAP,EAAoBC,MAAM,KAA1B,EAAiCC,KAAK,GAAtC,EAA2CC,OAAO,IAAlD,EAD4D,EAE5D,EAACH,MAAM,MAAP,EAAeC,MAAM,OAArB,EAF4D,EAG5D,EAACD,MAAM,SAAP,EAAkBC,MAAM,MAAxB,EAAgCC,KAAK,GAArC,EAH4D,EAI5D,EAACF,MAAM,MAAP,EAAeC,MAAM,GAArB,EAJ4D,EAK5D,EAACD,MAAM,WAAP,EAAoBC,MAAM,KAA1B,EAAiCC,KAAK,GAAtC,EAA2CC,OAAO,IAAlD,EAL4D,EAM5D,EAACH,MAAM,MAAP,EAAeC,MAAM,OAArB,EAN4D,EAO5D,EAACD,MAAM,SAAP,EAAkBC,MAAM,MAAxB,EAAgCC,KAAK,GAArC,EAP4D,EAQ5D,EAACF,MAAM,MAAP,EAAeC,MAAM,SAArB,EAR4D,CAA9D;AAUD,CAXD;;AAaAP,KAAK,qBAAL,EAA4BG,KAAK;AAC/BA,IAAEC,SAAF,CAAYF,IAAIG,QAAJ,CAAa,6BAAb,CAAZ,EAAyD,CACvD,EAACC,MAAM,WAAP,EAAoBC,MAAM,aAA1B,EAAyCC,KAAK,OAA9C,EAAuDC,OAAO,KAA9D,EADuD,EAEvD,EAACH,MAAM,MAAP,EAAeC,MAAM,UAArB,EAFuD,EAGvD,EAACD,MAAM,SAAP,EAAkBC,MAAM,UAAxB,EAAoCC,KAAK,OAAzC,EAHuD,CAAzD;AAKD,CAND;;AAQAR,KAAK,4BAAL,EAAmCG,KAAK;AACtCA,IAAEC,SAAF,CAAYF,IAAIQ,SAAJ,CAAc,SAAd,CAAZ,EAAsC,CAAC,EAACJ,MAAM,MAAP,EAAeC,MAAM,SAArB,EAAD,CAAtC;AACD,CAFD;;AAIAP,KAAK,oCAAL,EAA2CG,KAAK;AAC9CA,IAAEC,SAAF,CAAYF,IAAIQ,SAAJ,CAAc,cAAd,CAAZ,EAA2C,CACzC,EAACJ,MAAM,MAAP,EAAeC,MAAM,QAArB,EADyC,EAEzC,EAACD,MAAM,MAAP,EAAeC,MAAM,QAArB,EAFyC,CAA3C;AAIAJ,IAAEC,SAAF,CAAYF,IAAIQ,SAAJ,CAAc,oBAAd,CAAZ,EAAiD,CAC/C,EAACJ,MAAM,MAAP,EAAeC,MAAM,QAArB,EAD+C,EAE/C,EAACD,MAAM,MAAP,EAAeC,MAAM,QAArB,EAF+C,EAG/C,EAACD,MAAM,MAAP,EAAeC,MAAM,QAArB,EAH+C,CAAjD;AAKD,CAVD;;AAYAP,KAAK,wBAAL,EAA+BG,KAAK;AAClCA,IAAEC,SAAF,CAAYF,IAAIQ,SAAJ,CAAc,kCAAd,CAAZ,EAA+D,CAC7D;AACEJ,UAAM,UADR;AAEEE,SAAK,GAFP;AAGEC,WAAO,IAHT;AAIEE,cAAU,CAAC,EAACL,MAAM,MAAP,EAAeC,MAAM,KAArB,EAAD;AAJZ,GAD6D,EAO7D;AACED,UAAM,UADR;AAEEE,SAAK,OAFP;AAGEC,WAAO,KAHT;AAIEE,cAAU,CAAC,EAACL,MAAM,MAAP,EAAeC,MAAM,KAArB,EAAD;AAJZ,GAP6D,CAA/D;AAcD,CAfD;;AAiBAP,KAAK,wBAAL,EAA+BG,KAAK;AAClCA,IAAES,IAAF,CAAO,MAAP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAVD","file":"test.js","sourcesContent":["const test = require('ava')\nconst bbc = require('./index')\n\ntest('matching tags', t => {\n  t.deepEqual(bbc.tokenize(`[b]hello[/b] [i]world[/i] foobar`), [\n    {type: 'start-tag', text: '[b]', tag: 'b', param: null},\n    {type: 'text', text: 'hello'},\n    {type: 'end-tag', text: '[/b]', tag: 'b'},\n    {type: 'text', text: ' '},\n    {type: 'start-tag', text: '[i]', tag: 'i', param: null},\n    {type: 'text', text: 'world'},\n    {type: 'end-tag', text: '[/i]', tag: 'i'},\n    {type: 'text', text: ' foobar'},\n  ])\n})\n\ntest('matching tag params', t => {\n  t.deepEqual(bbc.tokenize('[color=red]i am red[/color]'), [\n    {type: 'start-tag', text: '[color=red]', tag: 'color', param: 'red'},\n    {type: 'text', text: 'i am red'},\n    {type: 'end-tag', text: '[/color]', tag: 'color'},\n  ])\n})\n\ntest('parsing a single text node', t => {\n  t.deepEqual(bbc.parseText('foo bar'), [{type: 'text', text: 'foo bar'}])\n})\n\ntest('parsing unmatched end tags as text', t => {\n  t.deepEqual(bbc.parseText('[/foo][/bar]'), [\n    {type: 'text', text: '[/foo]'},\n    {type: 'text', text: '[/bar]'},\n  ])\n  t.deepEqual(bbc.parseText('[/foo] test [/bar]'), [\n    {type: 'text', text: '[/foo]'},\n    {type: 'text', text: ' test '},\n    {type: 'text', text: '[/bar]'},\n  ])\n})\n\ntest('parsing flat tag pairs', t => {\n  t.deepEqual(bbc.parseText('[b]foo[/b][color=red]bar[/color]'), [\n    {\n      type: 'tag-pair',\n      tag: 'b',\n      param: null,\n      children: [{type: 'text', text: 'foo'}],\n    },\n    {\n      type: 'tag-pair',\n      tag: 'color',\n      param: 'red',\n      children: [{type: 'text', text: 'bar'}],\n    },\n  ])\n})\n\ntest('parsing nesty tag pair', t => {\n  t.pass('todo')\n  // t.deepEqual(bbc.parse(bbc.tokenize('foo bar')), [\n  //   {\n  //     type: 'tag-pair',\n  //     tag: 'b',\n  //     param: null,\n  //     children: [{type: 'text', text: 'test'}],\n  //   },\n  // ])\n})\n"]}